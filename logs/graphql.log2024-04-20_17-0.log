[2024-04-20 17:29:10:289][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 20549 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:29:10:296][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:29:11:730][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:29:11:805][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 71 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:29:11:1336][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:29:11:1342][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:29:11:1342][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:29:11:1366][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:29:11:1366][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 1048 ms
[2024-04-20 17:29:11:1423][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:29:11:1520][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:29:11:1520][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:29:11:1525][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:29:12:1646][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:29:12:1681][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:29:12:1699][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:29:12:1813][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:29:12:1833][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:29:12:2246][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:29:12:2253][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:29:12:2255][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:29:12:2255][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:29:12:2257][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:12:2261][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:12:2261][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:12:2262][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:29:12:2268][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:29:12:2268][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:29:12:2270][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:29:12:2498][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:29:13:2736][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:29:13:2809][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:29:13:2817][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:29:13:3063][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:29:13:3110][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:29:13:3119][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 3.043 seconds (process running for 3.527)
[2024-04-20 17:29:13:3345][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:29:13:3345][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:29:13:3347][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:29:19:8671][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=039746ba-4816-02f6-4f24-37ab1585e194, Locale=ko_KR]
[2024-04-20 17:29:19:8672][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:29:19:8672][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"50cd178c-aff5-42da-91ed-322deb4b85f6", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:29:19:8704][INFO ][http-nio-8888-exec-2][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:29:19:8708][INFO ][http-nio-8888-exec-2][PostService.viewPost] - postId[1]
[2024-04-20 17:29:19:8727][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    select
        p1_0.id,
        p1_0.user_id,
        p1_0.content,
        p1_0.title,
        p1_0.views 
    from
        post p1_0 
    where
        p1_0.id=?
[2024-04-20 17:29:19:8730][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [1]
[2024-04-20 17:29:19:8747][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    select
        u1_0.id,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number 
    from
        users u1_0 
    where
        u1_0.id=?
[2024-04-20 17:29:19:8748][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [1]
[2024-04-20 17:29:19:8751][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    select
        c1_0.post_id,
        c1_0.id,
        c1_0.content,
        c1_0.user_id 
    from
        comment c1_0 
    where
        c1_0.post_id=?
[2024-04-20 17:29:19:8751][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [1]
[2024-04-20 17:29:19:8753][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    select
        u1_0.id,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number 
    from
        users u1_0 
    where
        u1_0.id=?
[2024-04-20 17:29:19:8753][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [2]
[2024-04-20 17:29:19:8753][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    select
        u1_0.id,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number 
    from
        users u1_0 
    where
        u1_0.id=?
[2024-04-20 17:29:19:8753][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [3]
[2024-04-20 17:29:19:8747][INFO ][http-nio-8888-exec-2][PostService.viewPost] - post[Post(id=1, title=title1, content=content1, views=0, author=User(id=1, name=이동엽, phoneNumber=01012341234), comments=[Comment(id=1, content=comment1, writer=User(id=1, name=이동엽, phoneNumber=01012341234)), Comment(id=2, content=comment2, writer=User(id=2, name=손준호, phoneNumber=01023452345)), Comment(id=3, content=comment2, writer=User(id=3, name=손다은, phoneNumber=01034563456))])]'s view increase
[2024-04-20 17:29:19:8763][DEBUG][http-nio-8888-exec-2][SQL.logStatement] - 
    update
        post 
    set
        user_id=?,
        content=?,
        title=?,
        views=? 
    where
        id=?
[2024-04-20 17:29:19:8765][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (1:BIGINT) <- [1]
[2024-04-20 17:29:19:8765][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (2:VARCHAR) <- [content1]
[2024-04-20 17:29:19:8765][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (3:VARCHAR) <- [title1]
[2024-04-20 17:29:19:8765][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (4:BIGINT) <- [1]
[2024-04-20 17:29:19:8765][TRACE][http-nio-8888-exec-2][bind.logBinding] - binding parameter (5:BIGINT) <- [1]
[2024-04-20 17:29:34:23765][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:29:34:23767][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:29:34:23768][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:29:35:243][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 20594 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:29:35:244][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:29:36:623][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:29:36:686][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:29:36:1016][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:29:36:1021][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:29:36:1021][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:29:36:1042][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:29:36:1042][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 782 ms
[2024-04-20 17:29:36:1098][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:29:36:1184][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:29:36:1185][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:29:36:1190][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:29:36:1277][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:29:36:1299][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:29:36:1312][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:29:36:1410][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:29:36:1428][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:29:37:1841][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:29:37:1847][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:29:37:1849][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:29:37:1850][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:29:37:1852][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:37:1855][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:37:1856][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:29:37:1857][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:29:37:1862][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:29:37:1863][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:29:37:1865][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:29:37:2093][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:29:37:2328][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:29:37:2397][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:29:37:2404][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:29:38:2642][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:29:38:2685][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:29:38:2693][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.633 seconds (process running for 2.89)
[2024-04-20 17:29:38:3063][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:29:38:3063][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:29:38:3064][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:29:41:6249][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=e50e09b0-9254-8eea-bf03-4c8fdb6b424b, Locale=ko_KR]
[2024-04-20 17:29:41:6250][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:29:41:6250][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"36163a26-ade1-4d4e-b942-844f7b6def0e", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:29:41:6281][INFO ][http-nio-8888-exec-2][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:31:00:85379][DEBUG][http-nio-8888-exec-5][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id2
  }
}', id=49b12e87-2b63-c6b6-ded0-98e4e63b02cd, Locale=ko_KR]
[2024-04-20 17:31:00:85381][DEBUG][http-nio-8888-exec-5][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id2
  }
}]
[2024-04-20 17:31:00:85382][DEBUG][http-nio-8888-exec-5][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"11010f9f-2b17-4463-92c4-245c7d2471a3", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"64", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:31:00:85394][WARN ][http-nio-8888-exec-5][GraphQL.parseAndValidate] - Query did not validate : 'mutation {
  viewPost(postId: 1) {
    id2
  }
}'
[2024-04-20 17:36:05:389656][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:36:05:389660][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:36:05:389663][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:37:14:246][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 21723 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:37:14:248][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:37:15:643][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:37:15:713][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:37:15:1074][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:37:15:1080][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:37:15:1080][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:37:15:1102][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:37:15:1102][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 834 ms
[2024-04-20 17:37:15:1159][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:37:15:1259][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:37:16:1260][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:37:16:1265][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:37:16:1357][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:37:16:1379][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:37:16:1391][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:37:16:1493][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:37:16:1511][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:37:16:2097][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:37:16:2106][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:37:16:2109][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:37:16:2109][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:37:16:2112][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:37:16:2115][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:37:16:2116][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:37:16:2117][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:37:16:2122][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:37:16:2123][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:37:16:2125][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:37:17:2357][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:37:17:2662][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:37:17:2746][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:37:17:2754][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:37:17:3001][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:37:17:3043][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:37:17:3051][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.988 seconds (process running for 3.442)
[2024-04-20 17:37:18:3400][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:37:18:3400][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:37:18:3401][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:37:28:13551][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id2
  }
}', id=fd55c782-7fbb-1fbc-f7b1-b7845029578d, Locale=ko_KR]
[2024-04-20 17:37:28:13551][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id2
  }
}]
[2024-04-20 17:37:28:13551][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"bc9f6f57-b227-40c3-971f-c13a15a13892", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"64", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:37:28:13585][WARN ][http-nio-8888-exec-1][GraphQL.parseAndValidate] - Query did not validate : 'mutation {
  viewPost(postId: 1) {
    id2
  }
}'
[2024-04-20 17:37:37:22370][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=9ca55ba6-614c-fe8a-742d-2595aacb3f6a, Locale=ko_KR]
[2024-04-20 17:37:37:22371][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:37:37:22372][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"0e9f90de-b7a3-42fc-a091-7faa341433fd", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:37:37:22399][INFO ][http-nio-8888-exec-3][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:37:37:22409][INFO ][http-nio-8888-exec-3][GraphQLExceptionConfig.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:37:50:36114][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:37:50:36117][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:37:50:36119][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:43:59:242][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22214 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:43:59:243][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:43:59:637][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:43:59:708][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 68 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:44:00:1070][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:44:00:1076][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:44:00:1076][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:44:00:1099][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:44:00:1099][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 838 ms
[2024-04-20 17:44:00:1158][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:44:00:1254][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:44:00:1255][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:44:00:1260][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:44:00:1345][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:44:00:1368][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:44:00:1381][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:44:00:1482][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:44:00:1500][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:44:01:1903][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:44:01:1910][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:44:01:1912][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:44:01:1912][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:44:01:1914][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:44:01:1917][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:44:01:1918][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:44:01:1919][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:44:01:1924][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:44:01:1925][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:44:01:1927][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:44:01:2153][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:44:01:2396][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:44:01:2465][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:44:01:2474][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:44:02:2951][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:44:02:2999][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:44:02:3009][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.947 seconds (process running for 3.41)
[2024-04-20 17:44:02:3341][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:44:02:3341][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:44:02:3342][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:44:07:8483][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=8aba84e8-388a-09a0-a895-4c0db3581c2d, Locale=ko_KR]
[2024-04-20 17:44:07:8484][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:44:07:8484][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"a995272f-df2f-4d88-a651-8ba6aa060b95", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:44:07:8515][INFO ][http-nio-8888-exec-1][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:44:07:8522][INFO ][http-nio-8888-exec-1][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:44:13:14662][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    ids
  }
}', id=baa5a804-34a9-21ee-b5a4-50fba22bcd01, Locale=ko_KR]
[2024-04-20 17:44:13:14662][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    ids
  }
}]
[2024-04-20 17:44:13:14662][DEBUG][http-nio-8888-exec-3][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"b092a9b6-e05f-46eb-9581-47435d5988ff", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"64", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:44:13:14666][WARN ][http-nio-8888-exec-3][GraphQL.parseAndValidate] - Query did not validate : 'mutation {
  viewPost(postId: 1) {
    ids
  }
}'
[2024-04-20 17:44:26:27108][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:44:26:27110][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:44:26:27112][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:45:39:236][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22338 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:45:39:237][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:45:39:697][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:45:39:765][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 66 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:45:39:1106][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:45:39:1113][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:45:39:1113][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:45:39:1137][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:45:39:1138][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 882 ms
[2024-04-20 17:45:39:1197][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:45:40:1294][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:45:40:1295][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:45:40:1300][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:45:40:1384][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:45:40:1410][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:45:40:1424][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:45:40:1530][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:45:40:1548][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:45:40:1949][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:45:40:1956][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:45:40:1958][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:45:40:1958][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:45:40:1960][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:45:40:1964][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:45:40:1964][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:45:40:1965][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:45:40:1971][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:45:40:1972][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:45:40:1974][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:45:41:2223][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:45:41:2453][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:45:41:2522][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:45:41:2531][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:45:41:2871][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:45:41:2913][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:45:41:2922][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.861 seconds (process running for 3.151)
[2024-04-20 17:45:41:3018][INFO ][RMI TCP Connection(3)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:45:41:3018][INFO ][RMI TCP Connection(3)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:45:41:3018][INFO ][RMI TCP Connection(3)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 0 ms
[2024-04-20 17:45:44:6196][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=34ccb586-2f2f-98c8-f5da-af93da2339f1, Locale=ko_KR]
[2024-04-20 17:45:44:6196][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:45:44:6196][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"ef8711c8-159a-49c4-b98d-df2012e1fd9b", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:45:45:6226][INFO ][http-nio-8888-exec-2][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:45:45:6232][INFO ][http-nio-8888-exec-2][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:46:21:42762][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:46:21:42765][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:46:21:42767][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:46:23:222][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22389 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:46:23:223][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:46:23:606][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:46:23:673][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:46:23:1003][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:46:23:1009][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:46:23:1009][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:46:24:1030][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:46:24:1030][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 788 ms
[2024-04-20 17:46:24:1090][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:46:24:1177][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:46:24:1178][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:46:24:1183][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:46:24:1271][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:46:24:1296][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:46:24:1309][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:46:24:1403][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:46:24:1422][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:46:24:1833][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:46:24:1839][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:46:24:1841][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:46:24:1841][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:46:24:1844][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:46:24:1847][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:46:24:1848][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:46:24:1848][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:46:24:1854][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:46:24:1855][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:46:24:1857][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:46:25:2085][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:46:25:2321][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:46:25:2391][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:46:25:2399][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:46:25:2649][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:46:25:2689][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:46:25:2697][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.642 seconds (process running for 3.025)
[2024-04-20 17:46:25:2907][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:46:25:2907][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:46:25:2908][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:46:29:6577][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=7f975524-6bbf-b9c7-1ad7-1e9de4db7afb, Locale=ko_KR]
[2024-04-20 17:46:29:6577][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:46:29:6577][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"dd4aa3c1-ba05-4d3d-b67a-bbcd63af823f", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:46:29:6607][INFO ][http-nio-8888-exec-1][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:46:29:6614][INFO ][http-nio-8888-exec-1][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:48:14:111813][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:48:14:111818][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:48:14:111821][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:48:16:229][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22524 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:48:16:230][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:48:16:611][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:48:16:674][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:48:17:1015][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:48:17:1021][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:48:17:1021][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:48:17:1042][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:48:17:1042][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 793 ms
[2024-04-20 17:48:17:1099][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:48:17:1186][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:48:17:1187][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:48:17:1193][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:48:17:1279][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:48:17:1303][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:48:17:1316][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:48:17:1412][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:48:17:1430][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:48:17:1834][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:48:17:1841][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:48:17:1843][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:48:17:1843][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:48:17:1845][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:17:1849][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:17:1849][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:17:1850][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:48:17:1855][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:48:17:1856][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:48:17:1858][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:48:18:2098][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:48:18:2326][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:48:18:2396][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:48:18:2404][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:48:18:2650][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:48:18:2690][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:48:18:2698][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.643 seconds (process running for 2.902)
[2024-04-20 17:48:19:3058][INFO ][RMI TCP Connection(2)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:48:19:3059][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:48:19:3060][INFO ][RMI TCP Connection(2)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:48:23:7875][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=40e6c8a5-a8b5-0497-5772-eb2a6f27a390, Locale=ko_KR]
[2024-04-20 17:48:23:7875][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:48:23:7875][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"ada1513f-75a4-4a4e-87e5-610d1105f049", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:48:24:7906][INFO ][http-nio-8888-exec-1][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:48:24:7912][INFO ][http-nio-8888-exec-1][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:48:32:16673][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:48:32:16677][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:48:32:16679][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:48:34:254][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22564 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:48:34:256][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:48:34:654][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:48:34:723][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:48:35:1059][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:48:35:1065][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:48:35:1066][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:48:35:1089][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:48:35:1089][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 812 ms
[2024-04-20 17:48:35:1153][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:48:35:1243][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:48:35:1244][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:48:35:1249][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:48:35:1341][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:48:35:1363][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:48:35:1377][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:48:35:1476][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:48:35:1495][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:48:36:1905][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:48:36:1912][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:48:36:1914][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:48:36:1914][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:48:36:1917][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:36:1920][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:36:1921][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:48:36:1921][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:48:36:1927][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:48:36:1928][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:48:36:1929][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:48:36:2173][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:48:36:2429][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:48:36:2505][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:48:36:2513][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:48:36:2781][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:48:36:2824][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:48:37:2832][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.771 seconds (process running for 3.213)
[2024-04-20 17:48:37:3419][INFO ][RMI TCP Connection(1)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:48:37:3419][INFO ][RMI TCP Connection(1)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:48:37:3420][INFO ][RMI TCP Connection(1)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:48:44:10148][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=a4a83d5e-27b5-276a-82d5-4fd7871fa954, Locale=ko_KR]
[2024-04-20 17:48:44:10149][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:48:44:10149][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"96cc04b5-7905-4a5a-bbb6-9949fcab2733", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:48:44:10185][INFO ][http-nio-8888-exec-2][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:48:44:10192][INFO ][http-nio-8888-exec-2][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:50:11:96918][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:50:11:96922][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:50:11:96925][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:50:12:227][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22682 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:50:12:228][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:50:13:609][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:50:13:672][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 59 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:50:13:1007][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:50:13:1013][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:50:13:1013][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:50:13:1036][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:50:13:1036][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 792 ms
[2024-04-20 17:50:13:1092][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:50:13:1177][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:50:13:1178][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:50:13:1183][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:50:13:1270][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:50:13:1294][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:50:13:1307][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:50:13:1401][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:50:13:1420][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:50:14:1838][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:50:14:1845][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:50:14:1847][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:50:14:1847][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:50:14:1852][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:50:14:1855][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:50:14:1856][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:50:14:1857][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:50:14:1863][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:50:14:1864][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:50:14:1865][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:50:14:2093][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:50:14:2328][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:50:14:2404][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:50:14:2413][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:50:15:2687][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:50:15:2729][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:50:15:2737][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.681 seconds (process running for 2.935)
[2024-04-20 17:50:15:3060][INFO ][RMI TCP Connection(1)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:50:15:3060][INFO ][RMI TCP Connection(1)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:50:15:3061][INFO ][RMI TCP Connection(1)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:50:18:6070][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=6a6104c4-c494-00da-b1cd-47fce0073524, Locale=ko_KR]
[2024-04-20 17:50:18:6071][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:50:18:6071][DEBUG][http-nio-8888-exec-2][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"786e7ed7-a808-40b9-8442-9162597f2219", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:50:18:6101][INFO ][http-nio-8888-exec-2][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:50:18:6108][INFO ][http-nio-8888-exec-2][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:53:59:227245][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:53:59:227256][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:53:59:227262][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
[2024-04-20 17:54:19:231][INFO ][main][SpringbootGraphqlApplication.logStarting] - Starting SpringbootGraphqlApplication using Java 21.0.1 with PID 22970 (/Users/2dongyeop/Developments/springboot-graphql/build/classes/java/main started by 2dongyeop in /Users/2dongyeop/Developments/springboot-graphql)
[2024-04-20 17:54:19:232][INFO ][main][SpringbootGraphqlApplication.logStartupProfileInfo] - No active profile set, falling back to 1 default profile: "default"
[2024-04-20 17:54:20:607][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-04-20 17:54:20:672][INFO ][main][RepositoryConfigurationDelegate.registerRepositoriesIn] - Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
[2024-04-20 17:54:20:1002][INFO ][main][TomcatWebServer.initialize] - Tomcat initialized with port 8888 (http)
[2024-04-20 17:54:20:1008][INFO ][main][StandardService.log] - Starting service [Tomcat]
[2024-04-20 17:54:20:1008][INFO ][main][StandardEngine.log] - Starting Servlet engine: [Apache Tomcat/10.1.19]
[2024-04-20 17:54:20:1030][INFO ][main][[/].log] - Initializing Spring embedded WebApplicationContext
[2024-04-20 17:54:20:1030][INFO ][main][ServletWebServerApplicationContext.prepareWebApplicationContext] - Root WebApplicationContext: initialization completed in 778 ms
[2024-04-20 17:54:20:1087][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Starting...
[2024-04-20 17:54:20:1177][INFO ][main][HikariPool.checkFailFast] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2024-04-20 17:54:20:1178][INFO ][main][HikariDataSource.getConnection] - HikariPool-1 - Start completed.
[2024-04-20 17:54:20:1182][INFO ][main][H2ConsoleAutoConfiguration.logDataSources] - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2024-04-20 17:54:20:1272][INFO ][main][LogHelper.logPersistenceUnitInformation] - HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-04-20 17:54:21:1295][INFO ][main][Version.logVersion] - HHH000412: Hibernate ORM core version 6.4.4.Final
[2024-04-20 17:54:21:1309][INFO ][main][RegionFactoryInitiator.initiateService] - HHH000026: Second-level cache disabled
[2024-04-20 17:54:21:1410][INFO ][main][SpringPersistenceUnitInfo.addTransformer] - No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-04-20 17:54:21:1428][WARN ][main][deprecation.constructDialect] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2024-04-20 17:54:21:1837][INFO ][main][JtaPlatformInitiator.initiateService] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-04-20 17:54:21:1843][DEBUG][main][SQL.logStatement] - 
    drop table if exists comment cascade 
[2024-04-20 17:54:21:1846][DEBUG][main][SQL.logStatement] - 
    drop table if exists post cascade 
[2024-04-20 17:54:21:1846][DEBUG][main][SQL.logStatement] - 
    drop table if exists users cascade 
[2024-04-20 17:54:21:1848][DEBUG][main][SQL.logStatement] - 
    create table comment (
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255),
        primary key (id)
    )
[2024-04-20 17:54:21:1852][DEBUG][main][SQL.logStatement] - 
    create table post (
        id bigint generated by default as identity,
        user_id bigint,
        views bigint,
        content varchar(255),
        title varchar(255),
        primary key (id)
    )
[2024-04-20 17:54:21:1853][DEBUG][main][SQL.logStatement] - 
    create table users (
        id bigint generated by default as identity,
        name varchar(255),
        password varchar(255),
        phone_number varchar(255),
        primary key (id)
    )
[2024-04-20 17:54:21:1853][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
[2024-04-20 17:54:21:1859][DEBUG][main][SQL.logStatement] - 
    alter table if exists comment 
       add constraint FKqm52p1v3o13hy268he0wcngr5 
       foreign key (user_id) 
       references users
[2024-04-20 17:54:21:1860][DEBUG][main][SQL.logStatement] - 
    alter table if exists post 
       add constraint FK7ky67sgi7k0ayf22652f7763r 
       foreign key (user_id) 
       references users
[2024-04-20 17:54:21:1862][INFO ][main][LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory] - Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:54:21:2092][WARN ][main][JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-04-20 17:54:22:2325][INFO ][main][DefaultSchemaResourceGraphQlSourceBuilder.initGraphQlSchema] - Loaded 1 resource(s) in the GraphQL schema.
[2024-04-20 17:54:22:2398][INFO ][main][GraphQlAutoConfiguration.lambda$initGraphQlSchema$1] - GraphQL schema inspection:
	Unmapped fields: {}
	Unmapped registrations: {}
	Skipped types: []
[2024-04-20 17:54:22:2406][INFO ][main][GraphQlWebMvcAutoConfiguration.graphQlRouterFunction] - GraphQL endpoint HTTP POST /graphql
[2024-04-20 17:54:22:2645][INFO ][main][EndpointLinksResolver.<init>] - Exposing 1 endpoint(s) beneath base path '/actuator'
[2024-04-20 17:54:22:2688][INFO ][main][TomcatWebServer.start] - Tomcat started on port 8888 (http) with context path ''
[2024-04-20 17:54:22:2696][INFO ][main][SpringbootGraphqlApplication.logStarted] - Started SpringbootGraphqlApplication in 2.639 seconds (process running for 3.043)
[2024-04-20 17:54:22:2878][INFO ][RMI TCP Connection(3)-127.0.0.1][[/].log] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-04-20 17:54:22:2878][INFO ][RMI TCP Connection(3)-127.0.0.1][DispatcherServlet.initServletBean] - Initializing Servlet 'dispatcherServlet'
[2024-04-20 17:54:22:2879][INFO ][RMI TCP Connection(3)-127.0.0.1][DispatcherServlet.initServletBean] - Completed initialization in 1 ms
[2024-04-20 17:54:25:5613][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - request[document='mutation {
  viewPost(postId: 1) {
    id
  }
}', id=f055b7d2-597f-efcb-4fdf-09116167d06c, Locale=ko_KR]
[2024-04-20 17:54:25:5614][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - document[mutation {
  viewPost(postId: 1) {
    id
  }
}]
[2024-04-20 17:54:25:5614][DEBUG][http-nio-8888-exec-1][GraphQLInterceptor.intercept] - headers[[user-agent:"PostmanRuntime/7.36.0", accept:"*/*", cache-control:"no-cache", postman-token:"bb19cede-9ccf-46f1-966b-7d585f24b9e9", host:"localhost:8888", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"63", Content-Type:"application/json;charset=UTF-8"]]
[2024-04-20 17:54:25:5644][INFO ][http-nio-8888-exec-1][PostEndpoint.viewPost] - postId[1]
[2024-04-20 17:54:25:5651][INFO ][http-nio-8888-exec-1][GraphQLExceptionResolver.resolveToSingleError] - exception[{}]
io.dongvelop.springbootgraphql.exception.CustomGraphQLException: 커스텀 예외
	at io.dongvelop.springbootgraphql.endpoint.PostEndpoint.viewPost(PostEndpoint.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.graphql.data.method.InvocableHandlerMethodSupport.doInvoke(InvocableHandlerMethodSupport.java:87)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:196)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:126)
	at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107)
	at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:87)
	at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:106)
	at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:87)
	at org.springframework.graphql.observation.GraphQlObservationInstrumentation.lambda$instrumentDataFetcher$3(GraphQlObservationInstrumentation.java:145)
	at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:90)
	at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:329)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:305)
	at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:243)
	at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:214)
	at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:186)
	at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:56)
	at graphql.execution.Async.eachSequentiallyImpl(Async.java:162)
	at graphql.execution.Async.eachSequentially(Async.java:151)
	at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:51)
	at graphql.execution.Execution.executeOperation(Execution.java:162)
	at graphql.execution.Execution.execute(Execution.java:104)
	at graphql.GraphQL.execute(GraphQL.java:568)
	at graphql.GraphQL.lambda$parseValidateAndExecute$13(GraphQL.java:487)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:482)
	at graphql.GraphQL.lambda$executeAsync$9(GraphQL.java:440)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)
	at graphql.GraphQL.executeAsync(GraphQL.java:428)
	at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:99)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4568)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4634)
	at reactor.core.publisher.Mono.toFuture(Mono.java:5146)
	at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:113)
	at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:108)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[2024-04-20 17:56:35:135323][INFO ][SpringApplicationShutdownHook][LocalContainerEntityManagerFactoryBean.destroy] - Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-04-20 17:56:35:135326][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown initiated...
[2024-04-20 17:56:35:135329][INFO ][SpringApplicationShutdownHook][HikariDataSource.close] - HikariPool-1 - Shutdown completed.
